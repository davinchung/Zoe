pico-8 cartridge // http://www.pico-8.com
version 16
__lua__
k_left  = 0
k_right = 1
k_up    = 2
k_down  = 3

local objects = {}

function object(x,y)
  local t = {
    x = x,
    y = y,
    width = 1,
    height = 1
  }
  setmetatable(t,objects)
  return t
end

local zoe = object(70,70)
zoe.width = 2
zoe.face = false

function objects.__add(u,v)
  return object(
    u.x + v.x,
    u.y + v.y
  )
end

function objects.__sub(u,v)
  return object(
    u.x - v.x,
    u.y - v.y
  )
end

function _update()

		-- move zoe --
  if(btn(k_left)) then
    zoe.x -= 1
    zoe.face = false
  end
  
  if(btn(k_right)) then
    zoe.x += 1
    zoe.face = true  
  end
  
  if(btn(k_up)) then
    zoe.y -= 1
  end
  
  if(btn(k_down)) then
    zoe.y += 1
  end
end

function _draw()
  -- draw map --
  map(0,0,0,32,16,8)
  
  -- draw zoe --
  spr(1,zoe.x,zoe.y,
    zoe.width,zoe.height,
    zoe.face)
end

function collide(a,b)
  -- get corners
  ax1 = a.x
  ay1 = a.y
  ax2 = a.x + a.width*8
  ay2 = a.y + a.height*8
  
  bx1 = b.x
  by1 = b.y
  bx2 = b.x + b.width*8
  by2 = b.y + b.height*8
  
  -- if b is left/right of a
  if (bx2 <= ax1)
   or (ax2 <= bx1) then
    return false
  end
    
  -- if b is above/below of a
  if (by2 <= ay1)
    or (ay2 <= by1) then
      return false
  end
  
  -- otherwise they intersect
  return true
end
__gfx__
0000000000000000000009900000000055555555dddddddddddddddd000000000000000000000000000000000000000000000000000000000000000000000000
0000000009090000000090090000000055555555dddddddddddddddd000000000000000000000000000000000000000000000000000000000000000000000000
0070070009990000000000090000000055555555dddddddddddddddd000000000000000000000000000000000000000000000000000000000000000000000000
00077000099900000009900900bbb00055555555dddddddddddddddd000000000000000000000000000000000000000000000000000000000000000000000000
0007700000099999999009900bbbbb0055555555dddddddddddddddd000000000000000000000000000000000000000000000000000000000000000000000000
007007000009999999900000bbbbbb0055555555dddddddddddddddd000000000000000000000000000000000000000000000000000000000000000000000000
000000000009000000900000bbbbbb0055555555dddddddddddddddd000000000000000000000000000000000000000000000000000000000000000000000000
0000000000090000009000000bbbb0005555555577777777dddddddd000000000000000000000000000000000000000000000000000000000000000000000000
__map__
0606060606060606060606060606060600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0606060606060606060606060606060600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0606060606060606060606060606060600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0505050505050505050505050505050500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0404040404040404040404040404040400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0404040404040404040404040404040400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0404040404040404040404040404040400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0404040404040404040404040404040400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
